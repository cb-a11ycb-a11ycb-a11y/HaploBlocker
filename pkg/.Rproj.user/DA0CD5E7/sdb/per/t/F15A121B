{
    "collab_server" : "",
    "contents" : "#' Renaming function\n#'\n#' Internal Function to remove empty nodes and rename after merging\n#' @param data node-dataset\n#' @param nwindow number of windows in the dataset\n#' @export\n\nrenaming_combi <- function(data, nwindow){\n  b <- nodes_size(data)\n  a <- start_end_block(data)\n\n  relevant <- which(b>0)\n  pos <-sort(a[relevant,1], index.return=TRUE)$ix\n  old.name <- relevant[pos]\n\n  new.data <- list()\n  new.length <- sum(b>0)\n  for(index in 1:new.length){\n    new.data[[index]] <- data[[old.name[index]]]\n    #switchname\n    if(new.data[[index]][[2]]$window < nwindow){\n      old_a <- new.data[[index]][[6]][,1]\n      row <- 1\n      for(switch in old_a[old_a!=0]){\n\n        new.data[[index]][[6]][row,1] <- which(old.name==switch)\n        row <- row+1\n      }\n    }\n\n    if(new.data[[index]][[1]]$window>1){\n      old_e <- new.data[[index]][[7]][,1]\n      row <- 1\n      for(switch in old_e[old_e!=0]){\n\n        new.data[[index]][[7]][row,1] <- which(old.name==switch)\n        row <- row+1\n      }\n    }\n\n\n  }\n  return(new.data)\n}\n",
    "created" : 1524140995535.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4057124124",
    "id" : "F15A121B",
    "lastKnownWriteTime" : 1524216569,
    "last_content_update" : 1524216569,
    "path" : "C:/Users/tpook/Desktop/R-Stuff/HaploBlocker/R/renaming_combi.R",
    "project_path" : "R/renaming_combi.R",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 69,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}