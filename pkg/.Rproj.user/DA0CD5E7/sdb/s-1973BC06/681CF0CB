{
    "collab_server" : "",
    "contents" : "\nlibrary(HaploBlocker)\nlibrary(CHaploBlocker)\n\n\nfor(land in c(\"KE\", \"PE\", \"KE&PE\", \"KE&PE_overlap\")){\n  dataset <- NULL\n\n  recap <- matrix(nrow=10,ncol=4)\n  rownames(recap) <- paste(\"Chromosom\", 1:10)\n  colnames(recap) <- c(\"number of blocks\", \"coverage\", \"avg. length\", \"median length\")\n\n  for(chromo in 1:10){\n    if(land==\"KE&PE\" || land==\"KE&PE_overlap\"){\n      name <- paste0(\"C:/Users/tpook/Desktop/KE_DH_chromo\",chromo,\".RData\")\n      load(name)\n      data1 <- data\n      name <- paste0(\"C:/Users/tpook/Desktop/PE_DH_chromo\",chromo,\".RData\")\n      load(name)\n      data <- cbind(data,data1)\n    } else{\n      name <- paste0(\"C:/Users/tpook/Desktop/\",land,\"_DH_chromo\",chromo,\".RData\")\n      load(name)\n    }\n    if(land==\"KE&PE_overlap\"){\n      blocklist <- block_calculation(data, subgroups=list(1:910,1:409,410:910), min_per_subgroup=5)\n    } else{\n      blocklist <- block_calculation(data)\n    }\n\n    recap[chromo,1] <- length(blocklist)\n    new_data <- block_matrix_construction(blocklist, indi=ncol(data))\n    rownames(new_data) <- paste0(\"Chromo\",chromo,\"block\",1:length(blocklist))\n    dataset <-  rbind(dataset, new_data)\n    recap[chromo,2] <- mean(coverage_test(blocklist, ncol(data), type=\"snp\"))\n    se <- blocklist_startend(blocklist, type=\"snp\")\n    recap[chromo,3] <- mean(se[,2]-se[,1]+1)\n    recap[chromo,4] <- median(se[,2]-se[,1]+1)\n    name1 <- paste0(\"C:/Users/tpook/Desktop/MAZE_HaploBlocker/\",land,\"chromo\",chromo,\"_blocklibrary.RData\")\n    save(file=name1, list=(\"blocklist\"))\n\n    blocklist_short <- list()\n    for(index in 1:length(blocklist)){\n      blocklist_short[[index]] <- list()\n      blocklist_short[[index]]$position_snp <- c(blocklist[[index]][[2]]$snp, blocklist[[index]][[2]]$snp)\n      blocklist_short[[index]]$size <- blocklist[[index]][[5]]\n      blocklist_short[[index]]$included_haplotypes <- colnames(data)[blocklist[[index]][[6]]]\n      blocklist_short[[index]]$snp_sequence <- blocklist[[index]][[7]]$snp\n      blocklist_short[[index]]$freq_majorvariant <- blocklist[[index]][[7]]$freq\n    }\n\n    name1 <- paste0(\"C:/Users/tpook/Desktop/MAZE_HaploBlocker/\",land,\"chromo\",chromo,\"_blocklibrary_short.RData\")\n    save(file=name1, list=(\"blocklist_short\"))\n\n\n  }\n  colnames(dataset) <- colnames(data)\n  name1 <- paste0(\"C:/Users/tpook/Desktop/MAZE_HaploBlocker/\",land,\"_blockset.RData\")\n  save(file=name1, list=(\"dataset\"))\n  name1 <- paste0(\"C:/Users/tpook/Desktop/MAZE_HaploBlocker/\",land,\"_Block_overview.txt\")\n  write.table(file=name1, recap)\n}\n",
    "created" : 1515493265361.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2412971321",
    "id" : "681CF0CB",
    "lastKnownWriteTime" : 1517486939,
    "last_content_update" : 1517488633466,
    "path" : "C:/Users/tpook/Desktop/MAZE_HaploBlocker/Generate_blocklibraries.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled43"
    },
    "relative_order" : 29,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}